# loop-0008 instrument history lifecycle telemetry

## loop-0008 red | helper:rerun python3 -m pytest _tests/test_history_lifecycle.py _tests/test_history_query.py _tests/test_request_history_actions.py
- 2025-12-25T02:04:12Z | exit 1
- helper:diff-snapshot=0 files changed
- failure: history lifecycle facade lacks gating helpers so instrumentation tests import errors | inline

```
E   ImportError: cannot import name 'consume_gating_drop_stats' from 'talon_user.lib.historyLifecycle'
```

## loop-0008 green | helper:rerun python3 -m pytest _tests/test_history_lifecycle.py _tests/test_history_query.py _tests/test_request_history_actions.py
- 2025-12-25T02:17:45Z | exit 0
- helper:diff-snapshot=5 files changed, 73 insertions(+), 7 deletions(-)
- behaviour: historyLifecycle now exports telemetry wrappers and summary fallback; characterization suites pass | inline

```
_tests/test_history_lifecycle.py ...                                     [  2%]
_tests/test_history_query.py ...............                             [ 17%]
_tests/test_request_history_actions.py ................................. [ 49%]
.....................................................                    [100%]
```

## loop-0008 removal | helper:rerun git stash push -- lib/historyLifecycle.py lib/historyQuery.py lib/requestLog.py && python3 -m pytest _tests/test_history_lifecycle.py _tests/test_history_query.py _tests/test_request_history_actions.py
- 2025-12-25T02:18:52Z | exit 1
- helper:diff-snapshot=0 files changed
- failure: reverting lifecycle modules drops gating helpers; lifecycle tests fail to import telemetry hooks | inline

```
E   ImportError: cannot import name 'consume_gating_drop_stats' from 'talon_user.lib.historyLifecycle'
```
