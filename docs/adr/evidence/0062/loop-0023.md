# loop-0023 migrate help domain persona/intent index to orchestrator

## loop-0023 red | helper:rerun python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_index_uses_persona_orchestrator
- 2025-12-25T16:54:12Z | exit 1
- helper:diff-snapshot=0 files changed
- failure: help_index still referenced an undefined `intent_display_map`, so the orchestrator guard raised `NameError` | inline

```
E           NameError: name 'intent_display_map' is not defined
```

## loop-0023 green | helper:rerun python3 -m pytest _tests/test_help_domain.py
- 2025-12-25T17:09:43Z | exit 0
- helper:diff-snapshot=2 files changed, 299 insertions(+), 65 deletions(-)
- behaviour: help_index now hydrates persona/intent entries through the orchestrator (with map fallbacks), and the full help domain suite passes | inline

```
_tests/test_help_domain.py .........                                     [100%]
```

## loop-0023 removal | helper:rerun git stash push -- lib/helpDomain.py && python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_index_uses_persona_orchestrator && git stash pop
- 2025-12-25T17:09:00Z | exit 1
- helper:diff-snapshot=0 files changed
- failure: reverting `lib/helpDomain.py` drops the orchestrator alias, so the guard cannot patch `get_persona_intent_orchestrator` | inline

```
E           AttributeError: <module 'talon_user.lib.helpDomain' ...> does not have the attribute 'get_persona_intent_orchestrator'
```
