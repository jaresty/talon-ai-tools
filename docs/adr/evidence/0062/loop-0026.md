# loop-0026 include metadata snapshot in help hub ADR exports

- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – Guidance Surface Coordinator (reuse persona/intent metadata for Help Hub ADR clipboard exports)
- riskiest_assumption: Help Hub ADR clipboard exports would keep omitting canonical persona/intent metadata unless they reused the shared snapshot; `python3 -m pytest _tests/test_help_hub.py::test_copy_adr_links_includes_metadata -q` exposed the missing metadata (probability medium, impact medium on Concordance documentation parity).
- validation_targets:
  - python3 -m pytest _tests/test_help_hub.py _tests/test_help_domain.py _tests/test_help_hub_guard.py
- evidence:
  - red | 2025-12-25T18:48:51Z | exit 1 | python3 -m pytest _tests/test_help_hub.py::test_copy_adr_links_includes_metadata -q
    - helper:diff-snapshot=0 files changed
    - pointer: inline — `AssertionError: assert 'metadata summary:' in …`
  - green | 2025-12-25T18:52:40Z | exit 0 | python3 -m pytest _tests/test_help_hub.py _tests/test_help_domain.py _tests/test_help_hub_guard.py
    - helper:diff-snapshot=2 files changed, 91 insertions(+)
    - pointer: inline — `48 passed`
  - removal | 2025-12-25T18:51:46Z | exit 1 | git stash push -- lib/helpHub.py && python3 -m pytest _tests/test_help_hub.py::test_copy_adr_links_includes_metadata -q && git stash pop
    - helper:diff-snapshot=0 files changed
    - pointer: inline — `AssertionError: assert 'metadata summary:' in …`
- rollback_plan: git restore --source=HEAD -- lib/helpHub.py _tests/test_help_hub.py && python3 -m pytest _tests/test_help_hub.py _tests/test_help_domain.py _tests/test_help_hub_guard.py
- delta_summary: helper:diff-snapshot=2 files changed, 91 insertions(+); adds metadata snapshot summary helper for ADR clipboard exports and extends Help Hub guardrails to cover the richer metadata output.
- residual_risks:
  - Metadata helper currently emits text-only summaries; future slices may export structured JSON for automation consumers. Mitigation: queue follow-up to expose machine-readable exports if Concordance tooling requires it.
- next_work:
  - Behaviour: surface structured metadata export for automation (JSON) — python3 -m pytest _tests/test_help_hub.py — future-shaping: keep downstream tooling aligned with canonical metadata formats.
