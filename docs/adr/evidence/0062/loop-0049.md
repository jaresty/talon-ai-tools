- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – History Lifecycle Orchestrator (expose snapshot helpers for history saves)
- riskiest_assumption: Without a façade-friendly factory, `copy_history_to_file` cannot surface canonical axis snapshots; the new characterization test fails until history actions expose an atom helper and wrapper (probability medium, impact high on lifecycle refactor safety).
- validation_targets:
  - python3 -m pytest _tests/test_request_history_actions.py::RequestHistoryActionTests::test_copy_history_to_file_renders_axis_snapshot
- evidence:
  - red | 2025-12-25T22:47:30Z | exit 1 | python3 -m pytest _tests/test_request_history_actions.py::RequestHistoryActionTests::test_copy_history_to_file_renders_axis_snapshot
    - helper:diff-snapshot=0 files changed
    - pointer: inline — `AttributeError: module 'talon_user.lib.requestHistoryActions' has no attribute 'atom_from_snapshot'`
  - red | 2025-12-25T22:53:40Z | exit 1 | python3 -m pytest _tests/test_request_history_actions.py::RequestHistoryActionTests::test_copy_history_to_file_renders_axis_snapshot
    - helper:diff-snapshot=1 file changed, 201 insertions(+), 13 deletions(-)
    - pointer: inline — `TypeError: RequestHistoryActionTests.test_copy_history_to_file_renders_axis_snapshot.<locals>.<lambda>() got an unexpected keyword argument 'base_dir'`
  - green | 2025-12-25T22:55:28Z | exit 0 | python3 -m pytest _tests/test_request_history_actions.py::RequestHistoryActionTests::test_copy_history_to_file_renders_axis_snapshot
    - helper:diff-snapshot=1 file changed, 201 insertions(+), 13 deletions(-)
    - pointer: inline — `1 passed`
- rollback_plan: git restore --source=HEAD -- lib/requestHistoryActions.py && python3 -m pytest _tests/test_request_history_actions.py::RequestHistoryActionTests::test_copy_history_to_file_renders_axis_snapshot
- delta_summary: helper:diff-snapshot=1 file changed, 201 insertions(+), 13 deletions(-); introduces `HistorySnapshotEntry`/`atom_from_snapshot`, wraps persistence via `save_history_snapshot_to_file`, and adds `copy_history_to_file` so history actions can emit lifecycle-aware axis snapshots.
- residual_risks:
  - History drawers still lack a façade helper to refresh entries; monitor `_tests/test_request_history_drawer_gating.py` for regressions while adding the refresh orchestrator in the next loop.
- next_work:
  - Behaviour: implement requested history drawer refresh façade — python3 -m pytest _tests/test_request_history_drawer_gating.py — future-shaping: route drawers through the shared lifecycle helper instead of bespoke refresh logic.
