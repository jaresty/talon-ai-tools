- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – History Lifecycle Orchestrator (share snapshot entry factory)
- riskiest_assumption: Snapshot helpers would remain stranded in requestHistoryActions, blocking other consumers from the lifecycle façade (probability medium, impact high on façade reuse).
- validation_targets:
  - python3 -m pytest _tests/test_history_lifecycle.py::HistoryLifecycleTests::test_history_snapshot_entry_factory
- evidence:
  - red | 2025-12-25T23:08:20Z | exit 1 | python3 -m pytest _tests/test_history_lifecycle.py::HistoryLifecycleTests::test_history_snapshot_entry_factory
    - helper:diff-snapshot=1 file changed, 30 insertions(+)
    - pointer: inline — `ImportError: cannot import name 'HistorySnapshotEntry' from 'talon_user.lib.historyLifecycle'`
  - green | 2025-12-25T23:09:26Z | exit 0 | python3 -m pytest _tests/test_history_lifecycle.py::HistoryLifecycleTests::test_history_snapshot_entry_factory
    - helper:diff-snapshot=3 files changed, 158 insertions(+), 102 deletions(-)
    - pointer: inline — `1 passed`
- rollback_plan: git restore --source=HEAD -- _tests/test_history_lifecycle.py lib/historyLifecycle.py lib/requestHistoryActions.py && python3 -m pytest _tests/test_history_lifecycle.py::HistoryLifecycleTests::test_history_snapshot_entry_factory
- delta_summary: helper:diff-snapshot=3 files changed, 158 insertions(+), 102 deletions(-); moves history snapshot factories into `historyLifecycle`, reuses them from `requestHistoryActions`, and adds lifecycle tests.
- residual_risks:
  - Persistence helpers still live in requestHistoryActions; evaluate façade coverage for other modules after consolidating history exports.
- next_work:
  - Behaviour: migrate request log persistence to the shared snapshot entry — python3 -m pytest _tests/test_request_history_actions.py _tests/test_history_query.py — future-shaping: remove bespoke axis/persona plumbing in request log consumers.
