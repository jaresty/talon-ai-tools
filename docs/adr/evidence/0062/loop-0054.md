- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – History Lifecycle Orchestrator (migrate history query to lifecycle snapshot view)
- riskiest_assumption: HistoryQuery would continue bypassing the lifecycle façade, risking drift between query formatting and persistence (probability medium, impact medium-high on surface consistency).
- validation_targets:
  - python3 -m pytest _tests/test_history_query.py
  - python3 -m pytest _tests/test_request_history_drawer_gating.py::RequestHistoryDrawerGatingTests::test_action_refresh_delegates_to_helper
- evidence:
  - green | 2025-12-25T23:18:10Z | exit 0 | python3 -m pytest _tests/test_history_query.py
    - helper:diff-snapshot=1 file changed, 26 insertions(+), 6 deletions(-)
    - pointer: inline — `15 passed`
  - green | 2025-12-25T23:18:45Z | exit 0 | python3 -m pytest _tests/test_request_history_drawer_gating.py::RequestHistoryDrawerGatingTests::test_action_refresh_delegates_to_helper
    - helper:diff-snapshot=1 file changed, 26 insertions(+), 6 deletions(-)
    - pointer: inline — `1 passed`
- rollback_plan: git restore --source=HEAD -- lib/historyQuery.py && python3 -m pytest _tests/test_history_query.py
- delta_summary: helper:diff-snapshot=1 file changed, 26 insertions(+), 6 deletions(-); HistoryQuery now normalises entries via the lifecycle snapshot helper before rendering summaries and drawer payloads.
- residual_risks:
  - Remaining history exporters (e.g., telemetry snapshots) still call requestLog helpers directly; evaluate lifting them onto the façade next.
- next_work:
  - Behaviour: audit telemetry/export flows for lifecycle façade adoption — python3 -m pytest _tests/test_history_lifecycle.py _tests/test_history_query.py — future-shaping: ensure all history surfaces share the same snapshot normalisation.
