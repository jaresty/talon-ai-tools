- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – Guidance Surface Coordinator (pattern GUI gating)
- riskiest_assumption: Pattern GUI actions would retain bespoke gating + notifications, diverging from surfaceGuidance and risking inconsistent Concordance behaviour (probability high, impact medium on UI surfaces).
- validation_targets:
  - python3 -m pytest _tests/test_model_pattern_gui_guard.py
- evidence:
  - red | 2025-12-27T04:49:30Z | exit 1 | python3 -m pytest _tests/test_model_pattern_gui_guard.py
    - helper:diff-snapshot=0 files changed
    - pointer: inline — `_close_pattern_canvas` still runs despite patched guard, showing bespoke implementation bypasses the shared guard contract.
  - green | 2025-12-27T04:51:40Z | exit 0 | python3 -m pytest _tests/test_model_pattern_gui_guard.py
    - helper:diff-snapshot=2 files changed, 68 insertions(+), 71 deletions(-)
    - pointer: inline — suite passes with guard_surface_request delegation and fallback notifications.
  - removal | 2025-12-27T04:52:10Z | exit 1 | git stash push --keep-index --message loop-0109-removal && python3 -m pytest _tests/test_model_pattern_gui_guard.py
    - helper:diff-snapshot=0 files changed
    - pointer: inline — reverting code restores missing guard_surface_request integration, reproducing the failing `_close_pattern_canvas` assertion.
- rollback_plan: git stash push --keep-index --message loop-0109-removal && python3 -m pytest _tests/test_model_pattern_gui_guard.py && git stash pop && git reset _tests/test_model_pattern_gui_guard.py
- delta_summary: helper:diff-snapshot=2 files changed, 68 insertions(+), 71 deletions(-); pattern GUI now uses surfaceGuidance guard with on_block fallback messaging and respects guard across close/run/save actions.
- residual_risks:
  - Prompt pattern GUI still relies on bespoke gating helpers; migrate next using `_tests/test_model_prompt_pattern_gui_guard.py`.
- next_work:
  - Behaviour: refactor prompt pattern GUI gating into surfaceGuidance — python3 -m pytest _tests/test_model_prompt_pattern_gui_guard.py — future-shaping: ensure prompt pattern overlays share canonical guard contract.
