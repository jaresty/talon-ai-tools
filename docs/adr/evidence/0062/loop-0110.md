- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – Guidance Surface Coordinator (prompt pattern GUI gating)
- riskiest_assumption: Prompt pattern GUI actions would keep bespoke gating rather than surfaceGuidance, risking inconsistent Concordance messaging (probability high, impact medium on prompt workflows).
- validation_targets:
  - python3 -m pytest _tests/test_prompt_pattern_gui_guard.py
- evidence:
  - red | 2025-12-27T04:54:10Z | exit 1 | python3 -m pytest _tests/test_prompt_pattern_gui_guard.py
    - helper:diff-snapshot=0 files changed
    - pointer: inline — tests fail because `guard_surface_request` is absent, proving bespoke gating persists.
  - green | 2025-12-27T04:56:50Z | exit 0 | python3 -m pytest _tests/test_prompt_pattern_gui_guard.py
    - helper:diff-snapshot=2 files changed, 60 insertions(+), 74 deletions(-)
    - pointer: inline — suite passes once prompt pattern GUI delegates to surfaceGuidance with fallback notifications.
  - removal | 2025-12-27T04:57:20Z | exit 1 | git stash push --message loop-0110-removal && python3 -m pytest _tests/test_prompt_pattern_gui_guard.py
    - helper:diff-snapshot=0 files changed
    - pointer: inline — reverting code reintroduces missing guard_surface_request attribute, reproducing the failure.
- rollback_plan: git stash push --message loop-0110-removal && python3 -m pytest _tests/test_prompt_pattern_gui_guard.py && git stash pop && git reset _tests/test_prompt_pattern_gui_guard.py
- delta_summary: helper:diff-snapshot=2 files changed, 60 insertions(+), 74 deletions(-); prompt pattern GUI now routes gating via surfaceGuidance with consistent fallback messaging.
- residual_risks:
  - Remaining UI modules (e.g., suggestion GUI) still require guard alignment; queue future loops as needed.
- next_work:
  - Behaviour: evaluate suggestion GUI gating — python3 -m pytest _tests/test_model_suggestion_gui_guard.py — future-shaping: extend surfaceGuidance coverage across remaining surfaces.
