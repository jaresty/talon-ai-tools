- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – Guidance Surface Coordinator (help canvas passive gating)
- riskiest_assumption: Help canvas would keep blocking passive close/toggle actions during in-flight requests, preventing Concordance-aligned UX (probability medium, impact medium on help workflows).
- validation_targets:
  - python3 -m pytest _tests/test_model_help_canvas_guard.py
- evidence:
  - red | 2025-12-27T07:27:00Z | exit 1 | python3 -m pytest _tests/test_model_help_canvas_guard.py
    - helper:diff-snapshot=0 files changed
    - pointer: inline — new tests expect allow_inflight flag but guard is never invoked with it.
  - green | 2025-12-27T07:29:50Z | exit 0 | python3 -m pytest _tests/test_model_help_canvas_guard.py
    - helper:diff-snapshot=2 files changed, 41 insertions(+), 7 deletions(-)
    - pointer: inline — guard suite passes with allow_inflight delegation for passive help actions.
  - removal | 2025-12-27T07:30:20Z | exit 1 | git stash push --keep-index --message loop-0113-removal && python3 -m pytest _tests/test_model_help_canvas_guard.py
    - helper:diff-snapshot=2 files changed, 41 insertions(+), 7 deletions(-)
    - pointer: inline — reverting code while keeping tests restores failure (allow flag missing).
- rollback_plan: git stash push --keep-index --message loop-0113-removal && python3 -m pytest _tests/test_model_help_canvas_guard.py && git stash pop && git reset _tests/test_model_help_canvas_guard.py
- delta_summary: helper:diff-snapshot=2 files changed, 41 insertions(+), 7 deletions(-); help canvas now routes passive close/toggle ops through surfaceGuidance with allow_inflight flag.
- residual_risks:
  - Remaining overlays should be reviewed for passive guard bypass; pending loop will audit shared overlayHelpers entrypoints.
- next_work:
  - Behaviour: inspect overlay helper guard usage — python3 -m pytest _tests/test_overlay_helpers.py — future-shaping: unify overlay guard semantics across scroll/close utilities.
