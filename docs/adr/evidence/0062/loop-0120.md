- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – Prompt Persona Orchestrator (Talon list generator)
- riskiest_assumption: Talon list generation would keep reading persona/intents from `personaConfig` maps, letting exported lists drift when orchestrator-only aliases change (probability medium, impact medium on Concordance automation).
- validation_targets:
  - python3 -m pytest _tests/test_generate_talon_lists.py::GenerateTalonListsTests::test_generate_lists_prefers_orchestrator_metadata
  - python3 -m pytest _tests/test_generate_talon_lists.py
- evidence:
  - red | 2025-12-27T19:24:00Z | exit 1 | python3 -m pytest _tests/test_generate_talon_lists.py::GenerateTalonListsTests::test_generate_lists_prefers_orchestrator_metadata
    - helper:diff-snapshot=1 file changed, 74 insertions(+)
    - pointer: inline — generated persona list only contained the header because the generator ignored orchestrator metadata when persona_intent_maps returned an empty snapshot.
  - green | 2025-12-27T19:26:19Z | exit 0 | python3 -m pytest _tests/test_generate_talon_lists.py::GenerateTalonListsTests::test_generate_lists_prefers_orchestrator_metadata
    - helper:diff-snapshot=2 files changed, 148 insertions(+), 15 deletions(-)
    - pointer: inline — generated persona/intent lists now include orchestrator aliases such as “coach: teach_junior_dev” and “guide choice: decide” even when persona_intent_maps is empty.
  - green | 2025-12-27T19:26:19Z | exit 0 | python3 -m pytest _tests/test_generate_talon_lists.py
    - helper:diff-snapshot=2 files changed, 148 insertions(+), 15 deletions(-)
    - pointer: inline — full Talon list generator suite remains green with orchestrator-backed exports.
- rollback_plan: git restore --source=HEAD -- scripts/tools/generate_talon_lists.py _tests/test_generate_talon_lists.py && python3 -m pytest _tests/test_generate_talon_lists.py::GenerateTalonListsTests::test_generate_lists_prefers_orchestrator_metadata
- delta_summary: helper:diff-snapshot=2 files changed, 148 insertions(+), 15 deletions(-); Talon list generator now sources persona/intent aliases from the persona orchestrator and falls back to legacy maps when necessary.
- residual_risks:
  - Generator still writes alias rows verbatim; future loops may deduplicate case-insensitive collisions if catalog metadata introduces them.
- next_work:
  - Behaviour: audit downstream CLI docs for updated alias coverage — python3 -m pytest _tests/test_generate_talon_lists.py::GenerateTalonListsTests::test_generate_lists_writes_axis_and_static_prompt_tokens — future-shaping: keep documentation synced with orchestrator-driven list exports.
