- helper_version: helper:v20251223.1
- focus: ADR-0062 §Refactor Plan – Guidance Surface Coordinator (Help Domain metadata snapshot fallback)
- riskiest_assumption: Without catalog fallbacks, Help Domain metadata snapshot exports would keep emitting legacy personaConfig values during orchestrator outages, leaving Concordance docs out of sync with the canonical persona/intent catalog (probability medium, impact medium-high on visibility).
- validation_targets:
  - python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_metadata_snapshot_catalog_fallback_without_maps
- evidence:
  - red | 2026-01-01T06:45:38Z | exit 1 | python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_metadata_snapshot_catalog_fallback_without_maps
    - helper:diff-snapshot=1 file changed, 114 insertions(+)
    - pointer: inline — summary lines omit “Catalog Mentor/plan” and raise StopIteration when only legacy personaConfig metadata is available.
  - green | 2026-01-01T06:56:51Z | exit 0 | python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_metadata_snapshot_catalog_fallback_without_maps
    - helper:diff-snapshot=2 files changed, 251 insertions(+)
    - pointer: inline — Help Domain metadata snapshot now surfaces catalog-backed personas (“Catalog Mentor”) and canonical intents (“Catalog Plan Display”) with orchestrator offline.
  - removal | 2026-01-01T06:56:56Z | exit 1 | git stash push -- lib/helpDomain.py && python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_metadata_snapshot_catalog_fallback_without_maps && git stash pop
    - helper:diff-snapshot=1 file changed, 114 insertions(+)
    - pointer: inline — Restoring the pre-loop module drops the catalog fallback and the guard fails again.
- rollback_plan: git stash push -- lib/helpDomain.py && python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_metadata_snapshot_catalog_fallback_without_maps && git stash pop
- delta_summary: helper:diff-snapshot=2 files changed, 251 insertions(+); Help Domain metadata snapshot now supplements index-derived personas/intents with catalog fallbacks, and a dedicated pytest guards the outage scenario.
- residual_risks:
  - Fallback ordering mirrors catalog insertion; consider alphabetising snapshot exports if doc consumers depend on deterministic ordering.
- next_work:
  - Behaviour: audit downstream docs/CLI exports for the new snapshot ordering — python3 -m pytest _tests/test_help_domain.py::HelpDomainTests::test_help_metadata_summary_lines_respects_headers — future-shaping: ensure documentation regeneration reflects the catalog-backed metadata.
