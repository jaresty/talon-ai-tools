# loop-0007 enforce json health payload

## loop-0007 red | helper:rerun python3 -m pytest _tests/test_cli_talon_parity.py
- 2026-01-02T18:47:03Z | exit 1
- helper:diff-snapshot=3 files changed, 48 insertions(+), 12 deletions(-)
- failure: CLI health probe emitted plain text instead of JSON | inline

```
E           json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
```

## loop-0007 green | helper:rerun python3 -m pytest _tests/test_cli_talon_parity.py
- 2026-01-02T18:48:05Z | exit 0
- helper:diff-snapshot=3 files changed, 48 insertions(+), 12 deletions(-)
- JSON health payload succeeds and parity harness passes | inline

```
============================== 2 passed in 0.09s ===============================
```

## loop-0007 removal | helper:rerun python3 -m pytest _tests/test_cli_talon_parity.py
- 2026-01-02T18:48:23Z | exit 1
- helper:diff-snapshot=0 files changed
- failure returns after restoring pre-loop CLI stub | inline

```
E           json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
```
