- helper_version: helper:v20251223.1
- focus: ADR-0063 §Talon Adapter Layer (introduce bar CLI subprocess skeleton)
- riskiest_assumption: Without exercising `bar` via subprocess, the feature flag cannot progress beyond logging (probability high, impact high on delegation delivery).
- validation_targets:
  - python3 - <<'PY'
      from pathlib import Path
      text = Path('lib/providerCommands.py').read_text()
      if 'subprocess.run' not in text:
          raise SystemExit('subprocess.run not inserted')
      print('subprocess invocation present after edit')
    PY
- evidence:
  - red | 2026-01-01T17:40:12Z | exit 1 | python3 - <<'PY'
      from pathlib import Path
      text = Path('lib/providerCommands.py').read_text()
      if 'subprocess.run' in text:
          raise SystemExit('subprocess already present')
      print('No subprocess invocation found (expected red evidence)')
    PY
    - helper:diff-snapshot=0 files changed
    - pointer: inline — command confirmed absence of subprocess call before the edit.
  - green | 2026-01-01T17:42:01Z | exit 0 | python3 - <<'PY'
      from pathlib import Path
      text = Path('lib/providerCommands.py').read_text()
      if 'subprocess.run' not in text:
          raise SystemExit('subprocess.run not inserted')
      print('subprocess invocation present after edit')
    PY
    - helper:diff-snapshot=1 file changed, 37 insertions(+)
    - pointer: inline — subprocess-based shim now exists.
  - removal | 2026-01-01T17:41:08Z | exit 1 | python3 - <<'PY'
      from pathlib import Path
      text = Path('lib/providerCommands.py').read_text()
      if 'subprocess.run' not in text:
          raise SystemExit('subprocess missing (expected removal)')
      print('subprocess invocation still present')
    PY
    - helper:diff-snapshot=0 files changed
    - pointer: inline — reverting the file removes the subprocess invocation causing the check to fail.
- rollback_plan: git checkout HEAD -- lib/providerCommands.py
- delta_summary: helper:diff-snapshot=1 file changed, 37 insertions(+); added subprocess-based shim to call `cli/bin/bar` when the feature flag is enabled.
- loops_remaining_forecast: 1 loop remaining (document & test updates); confidence medium.
- residual_risks:
  - CLI path lacks error handling for permissions/env; future work must harden invocation and integrate telemetry.
- next_work:
  - Behaviour: expand CLI delegation docs/tests — python3 -m pytest _tests/test_gpt_actions.py — future-shaping: ensure guardrails cover the new path.
