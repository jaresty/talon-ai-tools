## metadata
- helper_version: helper:v20251223.1
- focus: Implementation Guardrails → Delivery posture — enforce release signature metadata parity for bootstrap reinstall (`python3 -m pytest _tests/test_cli_talon_parity.py`).
- riskiest_assumption: Without regenerating `signatures.json` alongside manifests, bootstrap could reinstall stale delegation snapshots even though guard rails report success, letting Talon operators run with mismatched release metadata.
- validation_targets:
  - `python3 -m pytest _tests/test_cli_talon_parity.py`
- rollback_plan: `git restore --source=HEAD scripts/tools/package_bar_cli.py scripts/tools/install_bar_cli.py scripts/tools/check_cli_assets.py _tests/test_check_cli_assets.py _tests/test_cli_talon_parity.py docs/adr/0063-go-cli-single-source-of-truth.work-log.md && rm docs/adr/evidence/0063/loop-0038.md`
- delta_summary: helper:diff-snapshot=6 files changed, 456 insertions(+), 73 deletions(-) — align packaging metadata path, enforce installer metadata verification, refresh asset guard, extend parity harness, and update work-log guidance.
- loops_remaining_forecast:
  - 1 loop — Publish `signatures.json` from CI artefacts and document retrieval path (`python3 scripts/tools/check_cli_assets.py`), confidence medium.
  - 2 loops — Emit metadata freshness telemetry and alert on signing key drift (`python3 scripts/tools/check_cli_assets.py`), confidence medium.
- residual_risks:
  - CI packaging job still writes signatures metadata manually (severity medium). Mitigation: next slice moves metadata generation into release automation and watches guardrail output for unexpected signing key IDs.
- next_work:
  - Behaviour: Harden release pipeline with checksum manifest — wire CI job to upload signatures metadata with the tarball (`python3 scripts/tools/check_cli_assets.py`).
  - Behaviour: Replace stubbed CLI delegation with real binary — surface telemetry when metadata drifts so bootstrap can disable delegation (`python3 -m pytest _tests/test_cli_talon_parity.py`).

## loop-0038 red | helper:rerun python3 -m pytest _tests/test_cli_talon_parity.py
- 2026-01-03T15:42:11Z | exit 1
- helper:diff-snapshot=0 files changed
- failure: bootstrap aborts because `signatures.json` still records the previous snapshot digest | inline

```
E           scripts.tools.install_bar_cli.ReleaseSignatureError: snapshot metadata recorded digest mismatch
bootstrap: release signature validation failed; run `python3 scripts/tools/package_bar_cli.py --print-paths` to rebuild packaged CLI: snapshot metadata recorded digest mismatch
```

## loop-0038 green | helper:rerun python3 -m pytest _tests/test_cli_talon_parity.py
- 2026-01-03T16:00:12Z | exit 0
- helper:diff-snapshot=6 files changed, 456 insertions(+), 73 deletions(-)
- success: bootstrap hydrates the release snapshot once packaging emits fresh metadata; guard rails stay green (`python3 -m pytest _tests/test_check_cli_assets.py`, `python3 scripts/tools/check_cli_assets.py`). | inline

```
_tests/test_cli_talon_parity.py .........                                [100%]
```

## loop-0038 removal | helper:rerun git restore --source=HEAD -- _tests/test_cli_talon_parity.py && python3 -m pytest _tests/test_cli_talon_parity.py
- 2026-01-03T16:03:27Z | exit 1
- helper:diff-snapshot=0 files changed
- failure returns when parity harness stops writing metadata: installer raises `snapshot metadata recorded digest mismatch` again | inline

```
E           scripts.tools.install_bar_cli.ReleaseSignatureError: snapshot metadata recorded digest mismatch
bootstrap: release signature validation failed; run `python3 scripts/tools/package_bar_cli.py --print-paths` to rebuild packaged CLI: snapshot metadata recorded digest mismatch
```
