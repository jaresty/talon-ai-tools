## metadata
- helper_version: helper:v20251223.1
- focus: Implementation Guardrails → Delivery posture — enforce recovery snapshot parity in checksum telemetry drift guard (`python3 -m pytest _tests/test_check_cli_assets.py`)
- riskiest_assumption: Without asserting `cli_recovery_snapshot` in the checksum telemetry monitor, CI would keep publishing artefacts that lack recovery prompts, leaving Talon operators without downgrade guidance when release automation regresses.
- validation_targets:
  - `python3 -m pytest _tests/test_check_cli_assets.py`
- rollback_plan: `git restore --source=HEAD scripts/tools/check_cli_assets.py && python3 -m pytest _tests/test_check_cli_assets.py`
- delta_summary: helper:diff-snapshot=3 files changed, 77 insertions(+), 3 deletions(-) — add recovery snapshot drift enforcement, harden guardrail tests, and document loop completion.
- loops_remaining_forecast:
  - 1 loop — Wire CI upload job to consume refreshed signature telemetry bundle (`python3 scripts/tools/check_cli_assets.py`), confidence medium.
  - 1 loop — Document operator remediation flow for recovery snapshot mismatches (`python3 -m pytest _tests/test_cli_talon_parity.py`), confidence medium.
- residual_risks:
  - CI packaging still needs to republish telemetry after the guard fails (severity medium). Mitigation: update CI workflow to invoke `python3 scripts/tools/package_bar_cli.py --print-paths` when the guard reports recovery snapshot issues and monitor release logs for the new instruction string.
- next_work:
  - Behaviour: Harden release pipeline with checksum manifest — update CI jobs to refresh telemetry bundle on guard failures (`python3 scripts/tools/check_cli_assets.py`).

## loop-0047 red | helper:rerun python3 -m pytest _tests/test_check_cli_assets.py
- 2026-01-03T22:42:00Z | exit 1
- helper:diff-snapshot=0 files changed
- failure: recovery snapshot missing from signature telemetry leaves guardrail red | inline

```
>       self.assertIn("package_bar_cli.py --print-paths", result.stderr)
E       AssertionError: 'package_bar_cli.py --print-paths' not found in 'signature telemetry recovery snapshot mismatch\n'
```

## loop-0047 green | helper:rerun python3 -m pytest _tests/test_check_cli_assets.py
- 2026-01-03T22:46:00Z | exit 0
- helper:diff-snapshot=3 files changed, 77 insertions(+), 3 deletions(-)
- success: checksum telemetry drift guard now emits recovery snapshot instructions and passes | inline

```
_tests/test_check_cli_assets.py ................                         [100%]
```

## loop-0047 removal | helper:rerun git restore --source=HEAD scripts/tools/check_cli_assets.py && python3 -m pytest _tests/test_check_cli_assets.py
- 2026-01-03T22:49:00Z | exit 1
- helper:diff-snapshot=0 files changed
- failure returns after restoring HEAD: guard again misses recovery snapshot instructions | inline

```
>       self.assertIn("package_bar_cli.py --print-paths", result.stderr)
E       AssertionError: 'package_bar_cli.py --print-paths' not found in 'signature telemetry recovery snapshot mismatch\n'
```
