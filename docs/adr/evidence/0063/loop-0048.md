## metadata
- helper_version: helper:v20251223.1
- focus: Implementation Guardrails → Delivery posture — surface signature telemetry bundle for CI uploads (`python3 -m pytest _tests/test_check_cli_assets.py`)
- riskiest_assumption: Without emitting the signature telemetry artefact path, CI packaging jobs cannot upload refreshed recovery snapshot telemetry after guard runs, leaving operators blind to drift even when the guardblocked release.
- validation_targets:
  - `python3 -m pytest _tests/test_check_cli_assets.py`
- rollback_plan: `git restore --source=HEAD scripts/tools/check_cli_assets.py _tests/test_check_cli_assets.py && python3 -m pytest _tests/test_check_cli_assets.py`
- delta_summary: helper:diff-snapshot=4 files changed, 50 insertions(+), 1 deletion(-) — print telemetry artefact path from the guard, extend unit tests to assert the new output, update the work-log, and capture evidence.
- loops_remaining_forecast:
  - 1 loop — Auto-run packaging when guard reports recovery snapshot drift (`python3 scripts/tools/check_cli_assets.py`), confidence medium.
  - 1 loop — Ensure CI uploads signature telemetry artefacts after packaging (`python3 scripts/tools/package_bar_cli.py --print-paths`), confidence medium.
- residual_risks:
  - CI still relies on a human or wrapper to rerun packaging when the guard fails (severity medium). Mitigation: add automation that calls `python3 scripts/tools/package_bar_cli.py --print-paths` whenever the guard exits red and monitor release logs for repeated failures.
- next_work:
  - Behaviour: Harden release pipeline with checksum manifest — automate packaging retries and telemetry re-publication on guard failure (`python3 scripts/tools/check_cli_assets.py`).

## loop-0048 red | helper:rerun python3 -m pytest _tests/test_check_cli_assets.py
- 2026-01-03T23:12:00Z | exit 1
- helper:diff-snapshot=0 files changed
- failure: guard output omitted `cli_signature_telemetry`, so tests flag missing upload path | inline

```
E       AssertionError: 'cli_signature_telemetry=/var/.../signature-telemetry.json' not found in 'all CLI assets present\ncli_tarball=artifacts/cli/bar-darwin-arm64.tar.gz\ncli_manifest=artifacts/cli/bar-darwin-arm64.tar.gz.sha256\ncli_signatures=/var/.../signatures.json\n'
```

## loop-0048 green | helper:rerun python3 -m pytest _tests/test_check_cli_assets.py
- 2026-01-03T23:15:00Z | exit 0
- helper:diff-snapshot=3 files changed, 8 insertions(+), 1 deletion(-)
- success: guard now prints `cli_signature_telemetry=…`, and telemetry bundle tests pass | inline

```
_tests/test_check_cli_assets.py ................                         [100%]
```

## loop-0048 removal | helper:rerun git restore --source=HEAD scripts/tools/check_cli_assets.py && python3 -m pytest _tests/test_check_cli_assets.py
- 2026-01-03T23:17:00Z | exit 1
- helper:diff-snapshot=0 files changed
- failure returns after restoring HEAD: telemetry artefact path missing again | inline

```
E       AssertionError: 'cli_signature_telemetry=/var/.../signature-telemetry.json' not found in ''
```
